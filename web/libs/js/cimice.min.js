! function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.cimice = e() : t.cimice = e()
}(this, function() {
    return function(t) {
        function e(n) {
            if (r[n]) return r[n].exports;
            var i = r[n] = {
                exports: {},
                id: n,
                loaded: !1
            };
            return t[n].call(i.exports, i, i.exports, e), i.loaded = !0, i.exports
        }
        var r = {};
        return e.m = t, e.c = r, e.p = "", e(0)
    }([function(t, e, r) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        }), e.Player = e.Recorder = e.Movie = e.Frame = void 0;
        var i = r(1),
            o = n(i),
            s = r(2),
            a = n(s),
            u = r(8),
            f = n(u),
            h = r(11),
            c = n(h);
        e.Frame = o["default"], e.Movie = a["default"], e.Recorder = f["default"], e.Player = c["default"]
    }, function(t, e) {
        "use strict";

        function r(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var r = 0; r < e.length; r++) {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, r, n) {
                    return r && t(e.prototype, r), n && t(e, n), e
                }
            }(),
            i = function() {
                function t() {
                    var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    r(this, t), this.eventType = e.eventType || "", this.options = e.options || {}, this.scrollX = e.scrollX || 0, this.scrollY = e.scrollY || 0, this.cursorX = e.cursorX || 0, this.cursorY = e.cursorY || 0, this.height = e.height || 0, this.width = e.width || 0, this.ts = e.ts || 0
                }
                return n(t, [{
                    key: "toJSON",
                    value: function() {
                        return {
                            eventType: this.eventType,
                            options: this.options,
                            scrollX: this.scrollX,
                            scrollY: this.scrollY,
                            cursorX: this.cursorX,
                            cursorY: this.cursorY,
                            height: this.height,
                            width: this.width,
                            ts: this.ts
                        }
                    }
                }]), t
            }();
        e["default"] = i
    }, function(t, e, r) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = function() {
                function t(t, e) {
                    for (var r = 0; r < e.length; r++) {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, r, n) {
                    return r && t(e.prototype, r), n && t(e, n), e
                }
            }(),
            a = r(1),
            u = n(a),
            f = r(3),
            h = function() {
                function t() {
                    var e = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    i(this, t), this.top = e.top || 0, this.left = e.left || 0, this.scrollX = e.scrollX || 0, this.scrollY = e.scrollY || 0, this.scene = e.scene || "", this.frames = [];
                    for (var r = e.frames || [], n = 0; n < r.length; n++) this.addFrame(new u["default"](r[n]))
                }
                return s(t, [{
                    key: "addFrame",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                            e = void 0;
                        if (t instanceof u["default"]) e = t;
                        else if (null !== t && "object" === ("undefined" == typeof t ? "undefined" : o(t))) {
                            e = new u["default"](t);
                            var r = new Date;
                            e.ts = r.getTime()
                        }
                        return e ? (this.frames.push(e), e) : void 0
                    }
                }, {
                    key: "getFrames",
                    value: function() {
                        return this.frames
                    }
                }, {
                    key: "setFrames",
                    value: function(t) {
                        var e = [].concat(t || []);
                        this.frames = [];
                        for (var r = 0; r < e.length; r++) this.addFrame(e[r]);
                        return this
                    }
                }, {
                    key: "toJSON",
                    value: function() {
                        return {
                            top: this.top,
                            left: this.left,
                            scrollX: this.scrollX,
                            scrollY: this.scrollY,
                            scene: this.scene,
                            frames: this.frames
                        }
                    }
                }, {
                    key: "getDecodedScene",
                    value: function() {
                        return this.sceneDecoded || (this.sceneDecoded = f.Base64.decode(this.scene)), this.sceneDecoded
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e, r) {
        ! function(e) {
            "use strict";
            var n, i = e.Base64,
                o = "2.1.9";
            if ("undefined" != typeof t && t.exports) try {
                n = r(4).Buffer
            } catch (s) {}
            var a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
                u = function(t) {
                    for (var e = {}, r = 0, n = t.length; n > r; r++) e[t.charAt(r)] = r;
                    return e
                }(a),
                f = String.fromCharCode,
                h = function(t) {
                    if (t.length < 2) {
                        var e = t.charCodeAt(0);
                        return 128 > e ? t : 2048 > e ? f(192 | e >>> 6) + f(128 | 63 & e) : f(224 | e >>> 12 & 15) + f(128 | e >>> 6 & 63) + f(128 | 63 & e)
                    }
                    var e = 65536 + 1024 * (t.charCodeAt(0) - 55296) + (t.charCodeAt(1) - 56320);
                    return f(240 | e >>> 18 & 7) + f(128 | e >>> 12 & 63) + f(128 | e >>> 6 & 63) + f(128 | 63 & e)
                },
                c = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,
                l = function(t) {
                    return t.replace(c, h)
                },
                p = function(t) {
                    var e = [0, 2, 1][t.length % 3],
                        r = t.charCodeAt(0) << 16 | (t.length > 1 ? t.charCodeAt(1) : 0) << 8 | (t.length > 2 ? t.charCodeAt(2) : 0),
                        n = [a.charAt(r >>> 18), a.charAt(r >>> 12 & 63), e >= 2 ? "=" : a.charAt(r >>> 6 & 63), e >= 1 ? "=" : a.charAt(63 & r)];
                    return n.join("")
                },
                v = e.btoa ? function(t) {
                    return e.btoa(t)
                } : function(t) {
                    return t.replace(/[\s\S]{1,3}/g, p)
                },
                d = n ? function(t) {
                    return (t.constructor === n.constructor ? t : new n(t)).toString("base64")
                } : function(t) {
                    return v(l(t))
                },
                y = function(t, e) {
                    return e ? d(String(t)).replace(/[+\/]/g, function(t) {
                        return "+" == t ? "-" : "_"
                    }).replace(/=/g, "") : d(String(t))
                },
                g = function(t) {
                    return y(t, !0)
                },
                w = new RegExp(["[À-ß][-¿]", "[à-ï][-¿]{2}", "[ð-÷][-¿]{3}"].join("|"), "g"),
                E = function(t) {
                    switch (t.length) {
                        case 4:
                            var e = (7 & t.charCodeAt(0)) << 18 | (63 & t.charCodeAt(1)) << 12 | (63 & t.charCodeAt(2)) << 6 | 63 & t.charCodeAt(3),
                                r = e - 65536;
                            return f((r >>> 10) + 55296) + f((1023 & r) + 56320);
                        case 3:
                            return f((15 & t.charCodeAt(0)) << 12 | (63 & t.charCodeAt(1)) << 6 | 63 & t.charCodeAt(2));
                        default:
                            return f((31 & t.charCodeAt(0)) << 6 | 63 & t.charCodeAt(1))
                    }
                },
                m = function(t) {
                    return t.replace(w, E)
                },
                b = function(t) {
                    var e = t.length,
                        r = e % 4,
                        n = (e > 0 ? u[t.charAt(0)] << 18 : 0) | (e > 1 ? u[t.charAt(1)] << 12 : 0) | (e > 2 ? u[t.charAt(2)] << 6 : 0) | (e > 3 ? u[t.charAt(3)] : 0),
                        i = [f(n >>> 16), f(n >>> 8 & 255), f(255 & n)];
                    return i.length -= [0, 0, 2, 1][r], i.join("")
                },
                _ = e.atob ? function(t) {
                    return e.atob(t)
                } : function(t) {
                    return t.replace(/[\s\S]{1,4}/g, b)
                },
                A = n ? function(t) {
                    return (t.constructor === n.constructor ? t : new n(t, "base64")).toString()
                } : function(t) {
                    return m(_(t))
                },
                T = function(t) {
                    return A(String(t).replace(/[-_]/g, function(t) {
                        return "-" == t ? "+" : "/"
                    }).replace(/[^A-Za-z0-9\+\/]/g, ""))
                },
                L = function() {
                    var t = e.Base64;
                    return e.Base64 = i, t
                };
            if (e.Base64 = {
                    VERSION: o,
                    atob: _,
                    btoa: v,
                    fromBase64: T,
                    toBase64: y,
                    utob: l,
                    encode: y,
                    encodeURI: g,
                    btou: m,
                    decode: T,
                    noConflict: L
                }, "function" == typeof Object.defineProperty) {
                var B = function(t) {
                    return {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                };
                e.Base64.extendString = function() {
                    Object.defineProperty(String.prototype, "fromBase64", B(function() {
                        return T(this)
                    })), Object.defineProperty(String.prototype, "toBase64", B(function(t) {
                        return y(this, t)
                    })), Object.defineProperty(String.prototype, "toBase64URI", B(function() {
                        return y(this, !0)
                    }))
                }
            }
            e.Meteor && (Base64 = e.Base64)
        }(this)
    }, function(t, e, r) {
        (function(t, n) {
            /*!
             * The buffer module from node.js, for the browser.
             *
             * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
             * @license  MIT
             */
            "use strict";

            function i() {
                function t() {}
                try {
                    var e = new Uint8Array(1);
                    return e.foo = function() {
                        return 42
                    }, e.constructor = t, 42 === e.foo() && e.constructor === t && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
                } catch (r) {
                    return !1
                }
            }

            function o() {
                return t.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823
            }

            function t(e) {
                return this instanceof t ? (t.TYPED_ARRAY_SUPPORT || (this.length = 0, this.parent = void 0), "number" == typeof e ? s(this, e) : "string" == typeof e ? a(this, e, arguments.length > 1 ? arguments[1] : "utf8") : u(this, e)) : arguments.length > 1 ? new t(e, arguments[1]) : new t(e)
            }

            function s(e, r) {
                if (e = d(e, 0 > r ? 0 : 0 | y(r)), !t.TYPED_ARRAY_SUPPORT)
                    for (var n = 0; r > n; n++) e[n] = 0;
                return e
            }

            function a(t, e, r) {
                "string" == typeof r && "" !== r || (r = "utf8");
                var n = 0 | w(e, r);
                return t = d(t, n), t.write(e, r), t
            }

            function u(e, r) {
                if (t.isBuffer(r)) return f(e, r);
                if (Z(r)) return h(e, r);
                if (null == r) throw new TypeError("must start with number, buffer, array or string");
                if ("undefined" != typeof ArrayBuffer) {
                    if (r.buffer instanceof ArrayBuffer) return c(e, r);
                    if (r instanceof ArrayBuffer) return l(e, r)
                }
                return r.length ? p(e, r) : v(e, r)
            }

            function f(t, e) {
                var r = 0 | y(e.length);
                return t = d(t, r), e.copy(t, 0, 0, r), t
            }

            function h(t, e) {
                var r = 0 | y(e.length);
                t = d(t, r);
                for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
                return t
            }

            function c(t, e) {
                var r = 0 | y(e.length);
                t = d(t, r);
                for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
                return t
            }

            function l(e, r) {
                return t.TYPED_ARRAY_SUPPORT ? (r.byteLength, e = t._augment(new Uint8Array(r))) : e = c(e, new Uint8Array(r)), e
            }

            function p(t, e) {
                var r = 0 | y(e.length);
                t = d(t, r);
                for (var n = 0; r > n; n += 1) t[n] = 255 & e[n];
                return t
            }

            function v(t, e) {
                var r, n = 0;
                "Buffer" === e.type && Z(e.data) && (r = e.data, n = 0 | y(r.length)), t = d(t, n);
                for (var i = 0; n > i; i += 1) t[i] = 255 & r[i];
                return t
            }

            function d(e, r) {
                t.TYPED_ARRAY_SUPPORT ? (e = t._augment(new Uint8Array(r)), e.__proto__ = t.prototype) : (e.length = r, e._isBuffer = !0);
                var n = 0 !== r && r <= t.poolSize >>> 1;
                return n && (e.parent = K), e
            }

            function y(t) {
                if (t >= o()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + o().toString(16) + " bytes");
                return 0 | t
            }

            function g(e, r) {
                if (!(this instanceof g)) return new g(e, r);
                var n = new t(e, r);
                return delete n.parent, n
            }

            function w(t, e) {
                "string" != typeof t && (t = "" + t);
                var r = t.length;
                if (0 === r) return 0;
                for (var n = !1;;) switch (e) {
                    case "ascii":
                    case "binary":
                    case "raw":
                    case "raws":
                        return r;
                    case "utf8":
                    case "utf-8":
                        return G(t).length;
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return 2 * r;
                    case "hex":
                        return r >>> 1;
                    case "base64":
                        return J(t).length;
                    default:
                        if (n) return G(t).length;
                        e = ("" + e).toLowerCase(), n = !0
                }
            }

            function E(t, e, r) {
                var n = !1;
                if (e = 0 | e, r = void 0 === r || r === 1 / 0 ? this.length : 0 | r, t || (t = "utf8"), 0 > e && (e = 0), r > this.length && (r = this.length), e >= r) return "";
                for (;;) switch (t) {
                    case "hex":
                        return S(this, e, r);
                    case "utf8":
                    case "utf-8":
                        return P(this, e, r);
                    case "ascii":
                        return I(this, e, r);
                    case "binary":
                        return U(this, e, r);
                    case "base64":
                        return B(this, e, r);
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return O(this, e, r);
                    default:
                        if (n) throw new TypeError("Unknown encoding: " + t);
                        t = (t + "").toLowerCase(), n = !0
                }
            }

            function m(t, e, r, n) {
                r = Number(r) || 0;
                var i = t.length - r;
                n ? (n = Number(n), n > i && (n = i)) : n = i;
                var o = e.length;
                if (o % 2 !== 0) throw new Error("Invalid hex string");
                n > o / 2 && (n = o / 2);
                for (var s = 0; n > s; s++) {
                    var a = parseInt(e.substr(2 * s, 2), 16);
                    if (isNaN(a)) throw new Error("Invalid hex string");
                    t[r + s] = a
                }
                return s
            }

            function b(t, e, r, n) {
                return q(G(e, t.length - r), t, r, n)
            }

            function _(t, e, r, n) {
                return q(H(e), t, r, n)
            }

            function A(t, e, r, n) {
                return _(t, e, r, n)
            }

            function T(t, e, r, n) {
                return q(J(e), t, r, n)
            }

            function L(t, e, r, n) {
                return q(z(e, t.length - r), t, r, n)
            }

            function B(t, e, r) {
                return 0 === e && r === t.length ? V.fromByteArray(t) : V.fromByteArray(t.slice(e, r))
            }

            function P(t, e, r) {
                r = Math.min(t.length, r);
                for (var n = [], i = e; r > i;) {
                    var o = t[i],
                        s = null,
                        a = o > 239 ? 4 : o > 223 ? 3 : o > 191 ? 2 : 1;
                    if (r >= i + a) {
                        var u, f, h, c;
                        switch (a) {
                            case 1:
                                128 > o && (s = o);
                                break;
                            case 2:
                                u = t[i + 1], 128 === (192 & u) && (c = (31 & o) << 6 | 63 & u, c > 127 && (s = c));
                                break;
                            case 3:
                                u = t[i + 1], f = t[i + 2], 128 === (192 & u) && 128 === (192 & f) && (c = (15 & o) << 12 | (63 & u) << 6 | 63 & f, c > 2047 && (55296 > c || c > 57343) && (s = c));
                                break;
                            case 4:
                                u = t[i + 1], f = t[i + 2], h = t[i + 3], 128 === (192 & u) && 128 === (192 & f) && 128 === (192 & h) && (c = (15 & o) << 18 | (63 & u) << 12 | (63 & f) << 6 | 63 & h, c > 65535 && 1114112 > c && (s = c))
                        }
                    }
                    null === s ? (s = 65533, a = 1) : s > 65535 && (s -= 65536, n.push(s >>> 10 & 1023 | 55296), s = 56320 | 1023 & s), n.push(s), i += a
                }
                return R(n)
            }

            function R(t) {
                var e = t.length;
                if (Q >= e) return String.fromCharCode.apply(String, t);
                for (var r = "", n = 0; e > n;) r += String.fromCharCode.apply(String, t.slice(n, n += Q));
                return r
            }

            function I(t, e, r) {
                var n = "";
                r = Math.min(t.length, r);
                for (var i = e; r > i; i++) n += String.fromCharCode(127 & t[i]);
                return n
            }

            function U(t, e, r) {
                var n = "";
                r = Math.min(t.length, r);
                for (var i = e; r > i; i++) n += String.fromCharCode(t[i]);
                return n
            }

            function S(t, e, r) {
                var n = t.length;
                (!e || 0 > e) && (e = 0), (!r || 0 > r || r > n) && (r = n);
                for (var i = "", o = e; r > o; o++) i += N(t[o]);
                return i
            }

            function O(t, e, r) {
                for (var n = t.slice(e, r), i = "", o = 0; o < n.length; o += 2) i += String.fromCharCode(n[o] + 256 * n[o + 1]);
                return i
            }

            function Y(t, e, r) {
                if (t % 1 !== 0 || 0 > t) throw new RangeError("offset is not uint");
                if (t + e > r) throw new RangeError("Trying to access beyond buffer length")
            }

            function C(e, r, n, i, o, s) {
                if (!t.isBuffer(e)) throw new TypeError("buffer must be a Buffer instance");
                if (r > o || s > r) throw new RangeError("value is out of bounds");
                if (n + i > e.length) throw new RangeError("index out of range")
            }

            function x(t, e, r, n) {
                0 > e && (e = 65535 + e + 1);
                for (var i = 0, o = Math.min(t.length - r, 2); o > i; i++) t[r + i] = (e & 255 << 8 * (n ? i : 1 - i)) >>> 8 * (n ? i : 1 - i)
            }

            function M(t, e, r, n) {
                0 > e && (e = 4294967295 + e + 1);
                for (var i = 0, o = Math.min(t.length - r, 4); o > i; i++) t[r + i] = e >>> 8 * (n ? i : 3 - i) & 255
            }

            function k(t, e, r, n, i, o) {
                if (e > i || o > e) throw new RangeError("value is out of bounds");
                if (r + n > t.length) throw new RangeError("index out of range");
                if (0 > r) throw new RangeError("index out of range")
            }

            function D(t, e, r, n, i) {
                return i || k(t, e, r, 4, 3.4028234663852886e38, -3.4028234663852886e38), W.write(t, e, r, n, 23, 4), r + 4
            }

            function j(t, e, r, n, i) {
                return i || k(t, e, r, 8, 1.7976931348623157e308, -1.7976931348623157e308), W.write(t, e, r, n, 52, 8), r + 8
            }

            function F(t) {
                if (t = X(t).replace(tt, ""), t.length < 2) return "";
                for (; t.length % 4 !== 0;) t += "=";
                return t
            }

            function X(t) {
                return t.trim ? t.trim() : t.replace(/^\s+|\s+$/g, "")
            }

            function N(t) {
                return 16 > t ? "0" + t.toString(16) : t.toString(16)
            }

            function G(t, e) {
                e = e || 1 / 0;
                for (var r, n = t.length, i = null, o = [], s = 0; n > s; s++) {
                    if (r = t.charCodeAt(s), r > 55295 && 57344 > r) {
                        if (!i) {
                            if (r > 56319) {
                                (e -= 3) > -1 && o.push(239, 191, 189);
                                continue
                            }
                            if (s + 1 === n) {
                                (e -= 3) > -1 && o.push(239, 191, 189);
                                continue
                            }
                            i = r;
                            continue
                        }
                        if (56320 > r) {
                            (e -= 3) > -1 && o.push(239, 191, 189), i = r;
                            continue
                        }
                        r = (i - 55296 << 10 | r - 56320) + 65536
                    } else i && (e -= 3) > -1 && o.push(239, 191, 189);
                    if (i = null, 128 > r) {
                        if ((e -= 1) < 0) break;
                        o.push(r)
                    } else if (2048 > r) {
                        if ((e -= 2) < 0) break;
                        o.push(r >> 6 | 192, 63 & r | 128)
                    } else if (65536 > r) {
                        if ((e -= 3) < 0) break;
                        o.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128)
                    } else {
                        if (!(1114112 > r)) throw new Error("Invalid code point");
                        if ((e -= 4) < 0) break;
                        o.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128)
                    }
                }
                return o
            }

            function H(t) {
                for (var e = [], r = 0; r < t.length; r++) e.push(255 & t.charCodeAt(r));
                return e
            }

            function z(t, e) {
                for (var r, n, i, o = [], s = 0; s < t.length && !((e -= 2) < 0); s++) r = t.charCodeAt(s), n = r >> 8, i = r % 256, o.push(i), o.push(n);
                return o
            }

            function J(t) {
                return V.toByteArray(F(t))
            }

            function q(t, e, r, n) {
                for (var i = 0; n > i && !(i + r >= e.length || i >= t.length); i++) e[i + r] = t[i];
                return i
            }
            var V = r(5),
                W = r(6),
                Z = r(7);
            e.Buffer = t, e.SlowBuffer = g, e.INSPECT_MAX_BYTES = 50, t.poolSize = 8192;
            var K = {};
            t.TYPED_ARRAY_SUPPORT = void 0 !== n.TYPED_ARRAY_SUPPORT ? n.TYPED_ARRAY_SUPPORT : i(), t.TYPED_ARRAY_SUPPORT ? (t.prototype.__proto__ = Uint8Array.prototype, t.__proto__ = Uint8Array) : (t.prototype.length = void 0, t.prototype.parent = void 0), t.isBuffer = function(t) {
                return !(null == t || !t._isBuffer)
            }, t.compare = function(e, r) {
                if (!t.isBuffer(e) || !t.isBuffer(r)) throw new TypeError("Arguments must be Buffers");
                if (e === r) return 0;
                for (var n = e.length, i = r.length, o = 0, s = Math.min(n, i); s > o && e[o] === r[o];) ++o;
                return o !== s && (n = e[o], i = r[o]), i > n ? -1 : n > i ? 1 : 0
            }, t.isEncoding = function(t) {
                switch (String(t).toLowerCase()) {
                    case "hex":
                    case "utf8":
                    case "utf-8":
                    case "ascii":
                    case "binary":
                    case "base64":
                    case "raw":
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return !0;
                    default:
                        return !1
                }
            }, t.concat = function(e, r) {
                if (!Z(e)) throw new TypeError("list argument must be an Array of Buffers.");
                if (0 === e.length) return new t(0);
                var n;
                if (void 0 === r)
                    for (r = 0, n = 0; n < e.length; n++) r += e[n].length;
                var i = new t(r),
                    o = 0;
                for (n = 0; n < e.length; n++) {
                    var s = e[n];
                    s.copy(i, o), o += s.length
                }
                return i
            }, t.byteLength = w, t.prototype.toString = function() {
                var t = 0 | this.length;
                return 0 === t ? "" : 0 === arguments.length ? P(this, 0, t) : E.apply(this, arguments)
            }, t.prototype.equals = function(e) {
                if (!t.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                return this === e ? !0 : 0 === t.compare(this, e)
            }, t.prototype.inspect = function() {
                var t = "",
                    r = e.INSPECT_MAX_BYTES;
                return this.length > 0 && (t = this.toString("hex", 0, r).match(/.{2}/g).join(" "), this.length > r && (t += " ... ")), "<Buffer " + t + ">"
            }, t.prototype.compare = function(e) {
                if (!t.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                return this === e ? 0 : t.compare(this, e)
            }, t.prototype.indexOf = function(e, r) {
                function n(t, e, r) {
                    for (var n = -1, i = 0; r + i < t.length; i++)
                        if (t[r + i] === e[-1 === n ? 0 : i - n]) {
                            if (-1 === n && (n = i), i - n + 1 === e.length) return r + n
                        } else n = -1;
                    return -1
                }
                if (r > 2147483647 ? r = 2147483647 : -2147483648 > r && (r = -2147483648), r >>= 0, 0 === this.length) return -1;
                if (r >= this.length) return -1;
                if (0 > r && (r = Math.max(this.length + r, 0)), "string" == typeof e) return 0 === e.length ? -1 : String.prototype.indexOf.call(this, e, r);
                if (t.isBuffer(e)) return n(this, e, r);
                if ("number" == typeof e) return t.TYPED_ARRAY_SUPPORT && "function" === Uint8Array.prototype.indexOf ? Uint8Array.prototype.indexOf.call(this, e, r) : n(this, [e], r);
                throw new TypeError("val must be string, number or Buffer")
            }, t.prototype.get = function(t) {
                return console.log(".get() is deprecated. Access using array indexes instead."), this.readUInt8(t)
            }, t.prototype.set = function(t, e) {
                return console.log(".set() is deprecated. Access using array indexes instead."), this.writeUInt8(t, e)
            }, t.prototype.write = function(t, e, r, n) {
                if (void 0 === e) n = "utf8", r = this.length, e = 0;
                else if (void 0 === r && "string" == typeof e) n = e, r = this.length, e = 0;
                else if (isFinite(e)) e = 0 | e, isFinite(r) ? (r = 0 | r, void 0 === n && (n = "utf8")) : (n = r, r = void 0);
                else {
                    var i = n;
                    n = e, e = 0 | r, r = i
                }
                var o = this.length - e;
                if ((void 0 === r || r > o) && (r = o), t.length > 0 && (0 > r || 0 > e) || e > this.length) throw new RangeError("attempt to write outside buffer bounds");
                n || (n = "utf8");
                for (var s = !1;;) switch (n) {
                    case "hex":
                        return m(this, t, e, r);
                    case "utf8":
                    case "utf-8":
                        return b(this, t, e, r);
                    case "ascii":
                        return _(this, t, e, r);
                    case "binary":
                        return A(this, t, e, r);
                    case "base64":
                        return T(this, t, e, r);
                    case "ucs2":
                    case "ucs-2":
                    case "utf16le":
                    case "utf-16le":
                        return L(this, t, e, r);
                    default:
                        if (s) throw new TypeError("Unknown encoding: " + n);
                        n = ("" + n).toLowerCase(), s = !0
                }
            }, t.prototype.toJSON = function() {
                return {
                    type: "Buffer",
                    data: Array.prototype.slice.call(this._arr || this, 0)
                }
            };
            var Q = 4096;
            t.prototype.slice = function(e, r) {
                var n = this.length;
                e = ~~e, r = void 0 === r ? n : ~~r, 0 > e ? (e += n, 0 > e && (e = 0)) : e > n && (e = n), 0 > r ? (r += n, 0 > r && (r = 0)) : r > n && (r = n), e > r && (r = e);
                var i;
                if (t.TYPED_ARRAY_SUPPORT) i = t._augment(this.subarray(e, r));
                else {
                    var o = r - e;
                    i = new t(o, void 0);
                    for (var s = 0; o > s; s++) i[s] = this[s + e]
                }
                return i.length && (i.parent = this.parent || this), i
            }, t.prototype.readUIntLE = function(t, e, r) {
                t = 0 | t, e = 0 | e, r || Y(t, e, this.length);
                for (var n = this[t], i = 1, o = 0; ++o < e && (i *= 256);) n += this[t + o] * i;
                return n
            }, t.prototype.readUIntBE = function(t, e, r) {
                t = 0 | t, e = 0 | e, r || Y(t, e, this.length);
                for (var n = this[t + --e], i = 1; e > 0 && (i *= 256);) n += this[t + --e] * i;
                return n
            }, t.prototype.readUInt8 = function(t, e) {
                return e || Y(t, 1, this.length), this[t]
            }, t.prototype.readUInt16LE = function(t, e) {
                return e || Y(t, 2, this.length), this[t] | this[t + 1] << 8
            }, t.prototype.readUInt16BE = function(t, e) {
                return e || Y(t, 2, this.length), this[t] << 8 | this[t + 1]
            }, t.prototype.readUInt32LE = function(t, e) {
                return e || Y(t, 4, this.length), (this[t] | this[t + 1] << 8 | this[t + 2] << 16) + 16777216 * this[t + 3]
            }, t.prototype.readUInt32BE = function(t, e) {
                return e || Y(t, 4, this.length), 16777216 * this[t] + (this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3])
            }, t.prototype.readIntLE = function(t, e, r) {
                t = 0 | t, e = 0 | e, r || Y(t, e, this.length);
                for (var n = this[t], i = 1, o = 0; ++o < e && (i *= 256);) n += this[t + o] * i;
                return i *= 128, n >= i && (n -= Math.pow(2, 8 * e)), n
            }, t.prototype.readIntBE = function(t, e, r) {
                t = 0 | t, e = 0 | e, r || Y(t, e, this.length);
                for (var n = e, i = 1, o = this[t + --n]; n > 0 && (i *= 256);) o += this[t + --n] * i;
                return i *= 128, o >= i && (o -= Math.pow(2, 8 * e)), o
            }, t.prototype.readInt8 = function(t, e) {
                return e || Y(t, 1, this.length), 128 & this[t] ? -1 * (255 - this[t] + 1) : this[t]
            }, t.prototype.readInt16LE = function(t, e) {
                e || Y(t, 2, this.length);
                var r = this[t] | this[t + 1] << 8;
                return 32768 & r ? 4294901760 | r : r
            }, t.prototype.readInt16BE = function(t, e) {
                e || Y(t, 2, this.length);
                var r = this[t + 1] | this[t] << 8;
                return 32768 & r ? 4294901760 | r : r
            }, t.prototype.readInt32LE = function(t, e) {
                return e || Y(t, 4, this.length), this[t] | this[t + 1] << 8 | this[t + 2] << 16 | this[t + 3] << 24
            }, t.prototype.readInt32BE = function(t, e) {
                return e || Y(t, 4, this.length), this[t] << 24 | this[t + 1] << 16 | this[t + 2] << 8 | this[t + 3]
            }, t.prototype.readFloatLE = function(t, e) {
                return e || Y(t, 4, this.length), W.read(this, t, !0, 23, 4)
            }, t.prototype.readFloatBE = function(t, e) {
                return e || Y(t, 4, this.length), W.read(this, t, !1, 23, 4)
            }, t.prototype.readDoubleLE = function(t, e) {
                return e || Y(t, 8, this.length), W.read(this, t, !0, 52, 8)
            }, t.prototype.readDoubleBE = function(t, e) {
                return e || Y(t, 8, this.length), W.read(this, t, !1, 52, 8)
            }, t.prototype.writeUIntLE = function(t, e, r, n) {
                t = +t, e = 0 | e, r = 0 | r, n || C(this, t, e, r, Math.pow(2, 8 * r), 0);
                var i = 1,
                    o = 0;
                for (this[e] = 255 & t; ++o < r && (i *= 256);) this[e + o] = t / i & 255;
                return e + r
            }, t.prototype.writeUIntBE = function(t, e, r, n) {
                t = +t, e = 0 | e, r = 0 | r, n || C(this, t, e, r, Math.pow(2, 8 * r), 0);
                var i = r - 1,
                    o = 1;
                for (this[e + i] = 255 & t; --i >= 0 && (o *= 256);) this[e + i] = t / o & 255;
                return e + r
            }, t.prototype.writeUInt8 = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 1, 255, 0), t.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[r] = 255 & e, r + 1
            }, t.prototype.writeUInt16LE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 2, 65535, 0), t.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & e, this[r + 1] = e >>> 8) : x(this, e, r, !0), r + 2
            }, t.prototype.writeUInt16BE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 2, 65535, 0), t.TYPED_ARRAY_SUPPORT ? (this[r] = e >>> 8, this[r + 1] = 255 & e) : x(this, e, r, !1), r + 2
            }, t.prototype.writeUInt32LE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 4, 4294967295, 0), t.TYPED_ARRAY_SUPPORT ? (this[r + 3] = e >>> 24, this[r + 2] = e >>> 16, this[r + 1] = e >>> 8, this[r] = 255 & e) : M(this, e, r, !0), r + 4
            }, t.prototype.writeUInt32BE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 4, 4294967295, 0), t.TYPED_ARRAY_SUPPORT ? (this[r] = e >>> 24, this[r + 1] = e >>> 16, this[r + 2] = e >>> 8, this[r + 3] = 255 & e) : M(this, e, r, !1), r + 4
            }, t.prototype.writeIntLE = function(t, e, r, n) {
                if (t = +t, e = 0 | e, !n) {
                    var i = Math.pow(2, 8 * r - 1);
                    C(this, t, e, r, i - 1, -i)
                }
                var o = 0,
                    s = 1,
                    a = 0 > t ? 1 : 0;
                for (this[e] = 255 & t; ++o < r && (s *= 256);) this[e + o] = (t / s >> 0) - a & 255;
                return e + r
            }, t.prototype.writeIntBE = function(t, e, r, n) {
                if (t = +t, e = 0 | e, !n) {
                    var i = Math.pow(2, 8 * r - 1);
                    C(this, t, e, r, i - 1, -i)
                }
                var o = r - 1,
                    s = 1,
                    a = 0 > t ? 1 : 0;
                for (this[e + o] = 255 & t; --o >= 0 && (s *= 256);) this[e + o] = (t / s >> 0) - a & 255;
                return e + r
            }, t.prototype.writeInt8 = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 1, 127, -128), t.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), 0 > e && (e = 255 + e + 1), this[r] = 255 & e, r + 1
            }, t.prototype.writeInt16LE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 2, 32767, -32768), t.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & e, this[r + 1] = e >>> 8) : x(this, e, r, !0), r + 2
            }, t.prototype.writeInt16BE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 2, 32767, -32768), t.TYPED_ARRAY_SUPPORT ? (this[r] = e >>> 8, this[r + 1] = 255 & e) : x(this, e, r, !1), r + 2
            }, t.prototype.writeInt32LE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 4, 2147483647, -2147483648), t.TYPED_ARRAY_SUPPORT ? (this[r] = 255 & e, this[r + 1] = e >>> 8, this[r + 2] = e >>> 16, this[r + 3] = e >>> 24) : M(this, e, r, !0), r + 4
            }, t.prototype.writeInt32BE = function(e, r, n) {
                return e = +e, r = 0 | r, n || C(this, e, r, 4, 2147483647, -2147483648), 0 > e && (e = 4294967295 + e + 1), t.TYPED_ARRAY_SUPPORT ? (this[r] = e >>> 24, this[r + 1] = e >>> 16, this[r + 2] = e >>> 8, this[r + 3] = 255 & e) : M(this, e, r, !1), r + 4
            }, t.prototype.writeFloatLE = function(t, e, r) {
                return D(this, t, e, !0, r)
            }, t.prototype.writeFloatBE = function(t, e, r) {
                return D(this, t, e, !1, r)
            }, t.prototype.writeDoubleLE = function(t, e, r) {
                return j(this, t, e, !0, r)
            }, t.prototype.writeDoubleBE = function(t, e, r) {
                return j(this, t, e, !1, r)
            }, t.prototype.copy = function(e, r, n, i) {
                if (n || (n = 0), i || 0 === i || (i = this.length), r >= e.length && (r = e.length), r || (r = 0), i > 0 && n > i && (i = n), i === n) return 0;
                if (0 === e.length || 0 === this.length) return 0;
                if (0 > r) throw new RangeError("targetStart out of bounds");
                if (0 > n || n >= this.length) throw new RangeError("sourceStart out of bounds");
                if (0 > i) throw new RangeError("sourceEnd out of bounds");
                i > this.length && (i = this.length), e.length - r < i - n && (i = e.length - r + n);
                var o, s = i - n;
                if (this === e && r > n && i > r)
                    for (o = s - 1; o >= 0; o--) e[o + r] = this[o + n];
                else if (1e3 > s || !t.TYPED_ARRAY_SUPPORT)
                    for (o = 0; s > o; o++) e[o + r] = this[o + n];
                else e._set(this.subarray(n, n + s), r);
                return s
            }, t.prototype.fill = function(t, e, r) {
                if (t || (t = 0), e || (e = 0), r || (r = this.length), e > r) throw new RangeError("end < start");
                if (r !== e && 0 !== this.length) {
                    if (0 > e || e >= this.length) throw new RangeError("start out of bounds");
                    if (0 > r || r > this.length) throw new RangeError("end out of bounds");
                    var n;
                    if ("number" == typeof t)
                        for (n = e; r > n; n++) this[n] = t;
                    else {
                        var i = G(t.toString()),
                            o = i.length;
                        for (n = e; r > n; n++) this[n] = i[n % o]
                    }
                    return this
                }
            }, t.prototype.toArrayBuffer = function() {
                if ("undefined" != typeof Uint8Array) {
                    if (t.TYPED_ARRAY_SUPPORT) return new t(this).buffer;
                    for (var e = new Uint8Array(this.length), r = 0, n = e.length; n > r; r += 1) e[r] = this[r];
                    return e.buffer
                }
                throw new TypeError("Buffer.toArrayBuffer not supported in this browser")
            };
            var $ = t.prototype;
            t._augment = function(e) {
                return e.constructor = t, e._isBuffer = !0, e._set = e.set, e.get = $.get, e.set = $.set, e.write = $.write, e.toString = $.toString, e.toLocaleString = $.toString, e.toJSON = $.toJSON, e.equals = $.equals, e.compare = $.compare, e.indexOf = $.indexOf, e.copy = $.copy, e.slice = $.slice, e.readUIntLE = $.readUIntLE, e.readUIntBE = $.readUIntBE, e.readUInt8 = $.readUInt8, e.readUInt16LE = $.readUInt16LE, e.readUInt16BE = $.readUInt16BE, e.readUInt32LE = $.readUInt32LE, e.readUInt32BE = $.readUInt32BE, e.readIntLE = $.readIntLE, e.readIntBE = $.readIntBE, e.readInt8 = $.readInt8, e.readInt16LE = $.readInt16LE, e.readInt16BE = $.readInt16BE, e.readInt32LE = $.readInt32LE, e.readInt32BE = $.readInt32BE, e.readFloatLE = $.readFloatLE, e.readFloatBE = $.readFloatBE, e.readDoubleLE = $.readDoubleLE, e.readDoubleBE = $.readDoubleBE, e.writeUInt8 = $.writeUInt8, e.writeUIntLE = $.writeUIntLE, e.writeUIntBE = $.writeUIntBE, e.writeUInt16LE = $.writeUInt16LE, e.writeUInt16BE = $.writeUInt16BE, e.writeUInt32LE = $.writeUInt32LE, e.writeUInt32BE = $.writeUInt32BE, e.writeIntLE = $.writeIntLE, e.writeIntBE = $.writeIntBE, e.writeInt8 = $.writeInt8, e.writeInt16LE = $.writeInt16LE, e.writeInt16BE = $.writeInt16BE, e.writeInt32LE = $.writeInt32LE, e.writeInt32BE = $.writeInt32BE, e.writeFloatLE = $.writeFloatLE, e.writeFloatBE = $.writeFloatBE, e.writeDoubleLE = $.writeDoubleLE, e.writeDoubleBE = $.writeDoubleBE, e.fill = $.fill, e.inspect = $.inspect, e.toArrayBuffer = $.toArrayBuffer, e
            };
            var tt = /[^+\/0-9A-Za-z-_]/g
        }).call(e, r(4).Buffer, function() {
            return this
        }())
    }, function(t, e, r) {
        var n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
        ! function(t) {
            "use strict";

            function e(t) {
                var e = t.charCodeAt(0);
                return e === s || e === c ? 62 : e === a || e === l ? 63 : u > e ? -1 : u + 10 > e ? e - u + 26 + 26 : h + 26 > e ? e - h : f + 26 > e ? e - f + 26 : void 0
            }

            function r(t) {
                function r(t) {
                    f[c++] = t
                }
                var n, i, s, a, u, f;
                if (t.length % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
                var h = t.length;
                u = "=" === t.charAt(h - 2) ? 2 : "=" === t.charAt(h - 1) ? 1 : 0, f = new o(3 * t.length / 4 - u), s = u > 0 ? t.length - 4 : t.length;
                var c = 0;
                for (n = 0, i = 0; s > n; n += 4, i += 3) a = e(t.charAt(n)) << 18 | e(t.charAt(n + 1)) << 12 | e(t.charAt(n + 2)) << 6 | e(t.charAt(n + 3)), r((16711680 & a) >> 16), r((65280 & a) >> 8), r(255 & a);
                return 2 === u ? (a = e(t.charAt(n)) << 2 | e(t.charAt(n + 1)) >> 4, r(255 & a)) : 1 === u && (a = e(t.charAt(n)) << 10 | e(t.charAt(n + 1)) << 4 | e(t.charAt(n + 2)) >> 2, r(a >> 8 & 255), r(255 & a)), f
            }

            function i(t) {
                function e(t) {
                    return n.charAt(t)
                }

                function r(t) {
                    return e(t >> 18 & 63) + e(t >> 12 & 63) + e(t >> 6 & 63) + e(63 & t)
                }
                var i, o, s, a = t.length % 3,
                    u = "";
                for (i = 0, s = t.length - a; s > i; i += 3) o = (t[i] << 16) + (t[i + 1] << 8) + t[i + 2], u += r(o);
                switch (a) {
                    case 1:
                        o = t[t.length - 1], u += e(o >> 2), u += e(o << 4 & 63), u += "==";
                        break;
                    case 2:
                        o = (t[t.length - 2] << 8) + t[t.length - 1], u += e(o >> 10), u += e(o >> 4 & 63), u += e(o << 2 & 63), u += "="
                }
                return u
            }
            var o = "undefined" != typeof Uint8Array ? Uint8Array : Array,
                s = "+".charCodeAt(0),
                a = "/".charCodeAt(0),
                u = "0".charCodeAt(0),
                f = "a".charCodeAt(0),
                h = "A".charCodeAt(0),
                c = "-".charCodeAt(0),
                l = "_".charCodeAt(0);
            t.toByteArray = r, t.fromByteArray = i
        }(e)
    }, function(t, e) {
        e.read = function(t, e, r, n, i) {
            var o, s, a = 8 * i - n - 1,
                u = (1 << a) - 1,
                f = u >> 1,
                h = -7,
                c = r ? i - 1 : 0,
                l = r ? -1 : 1,
                p = t[e + c];
            for (c += l, o = p & (1 << -h) - 1, p >>= -h, h += a; h > 0; o = 256 * o + t[e + c], c += l, h -= 8);
            for (s = o & (1 << -h) - 1, o >>= -h, h += n; h > 0; s = 256 * s + t[e + c], c += l, h -= 8);
            if (0 === o) o = 1 - f;
            else {
                if (o === u) return s ? NaN : (p ? -1 : 1) * (1 / 0);
                s += Math.pow(2, n), o -= f
            }
            return (p ? -1 : 1) * s * Math.pow(2, o - n)
        }, e.write = function(t, e, r, n, i, o) {
            var s, a, u, f = 8 * o - i - 1,
                h = (1 << f) - 1,
                c = h >> 1,
                l = 23 === i ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                p = n ? 0 : o - 1,
                v = n ? 1 : -1,
                d = 0 > e || 0 === e && 0 > 1 / e ? 1 : 0;
            for (e = Math.abs(e), isNaN(e) || e === 1 / 0 ? (a = isNaN(e) ? 1 : 0, s = h) : (s = Math.floor(Math.log(e) / Math.LN2), e * (u = Math.pow(2, -s)) < 1 && (s--, u *= 2), e += s + c >= 1 ? l / u : l * Math.pow(2, 1 - c), e * u >= 2 && (s++, u /= 2), s + c >= h ? (a = 0, s = h) : s + c >= 1 ? (a = (e * u - 1) * Math.pow(2, i), s += c) : (a = e * Math.pow(2, c - 1) * Math.pow(2, i), s = 0)); i >= 8; t[r + p] = 255 & a, p += v, a /= 256, i -= 8);
            for (s = s << i | a, f += i; f > 0; t[r + p] = 255 & s, p += v, s /= 256, f -= 8);
            t[r + p - v] |= 128 * d
        }
    }, function(t, e) {
        var r = {}.toString;
        t.exports = Array.isArray || function(t) {
            return "[object Array]" == r.call(t)
        }
    }, function(t, e, r) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function s(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var r = 0; r < e.length; r++) {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, r, n) {
                    return r && t(e.prototype, r), n && t(e, n), e
                }
            }(),
            u = r(9),
            f = n(u),
            h = r(2),
            c = n(h),
            l = r(3),
            p = function(t) {
                function e() {
                    var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    i(this, e);
                    var r = o(this, Object.getPrototypeOf(e).call(this, t));
                    return t.target && r.setTarget(t.target), r.events = t.events || ["mousemove", "click", "scroll", "resize"], r.eventHandlers = [], r.movie, r.isRecording = !1, r.listeners = t.listeners || {}, r.target instanceof window.HTMLHtmlElement && (r.listeners = {
                        scroll: window,
                        resize: window
                    }), r.on("startRecording", function() {
                        r.isRecording = !0
                    }), r.on("stopRecording", function() {
                        r.isRecording = !1
                    }), r.on("recording", function(t) {}), r
                }
                return s(e, t), a(e, [{
                    key: "getMovie",
                    value: function() {
                        return this.movie
                    }
                }, {
                    key: "getEvents",
                    value: function() {
                        return this.events
                    }
                }, {
                    key: "setEvents",
                    value: function(t) {
                        var e = [].concat(t || []);
                        this.events = [];
                        for (var r = 0; r < e.length; r++) this.events.push(e[r]);
                        return this
                    }
                }, {
                    key: "getListeners",
                    value: function() {
                        return this.listeners
                    }
                }, {
                    key: "getListener",
                    value: function(t) {
                        return this.listeners[t] || this.tryGetTarget()
                    }
                }, {
                    key: "initMovie",
                    value: function(ff) {
                        var t = this.tryGetTarget(),
                            e = new c["default"],
                            r = this.getPosTarget();
                        return e.top = r.top, e.left = r.left, e.scene = l.Base64.encode(t.cloneNode(!0).innerHTML), e.scrollX = t.scrollLeft, e.scrollY = t.scrollTop, this.movie = e, this.movie
                    }
                }, {
                    key: "getPosTarget",
                    value: function() {
                        var t = this.tryGetTarget().getBoundingClientRect(),
                            e = document.documentElement;
                        return {
                            top: t.top + (window.pageYOffset || e.scrollTop || 0),
                            left: t.left + (window.pageXOffset || e.scrollLeft || 0)
                        }
                    }
                }, {
                    key: "startRecording",
                    value: function() {
                        var t = this;
                        this.initMovie(), this.emit("startRecording");
                        for (var e = function(e) {
                                var r = t.events[e],
                                    n = t.onEvents[r];
                                n || (n = t.abstractEventCallback);
                                var i = function(e) {
                                    t.onEventCallback(n, e)
                                };
                                t.eventHandlers.splice(e, 0, i), t.getListener(r).addEventListener(r, i)
                            }, r = 0; r < this.events.length; r++) e(r)
                    }
                }, {
                    key: "stopRecording",
                    value: function() {
                        for (var t = 0; t < this.events.length; t++) {
                            var e = this.events[t],
                                r = this.eventHandlers[t];
                            r && this.getListener(e).removeEventListener(e, r)
                        }
                        return this.emit("stopRecording"), this.movie
                    }
                }, {
                    key: "onEventCallback",
                    value: function(t, e) {
                        this.emit("recording", e), this.emit(e.type, e), t(this, this.movie, e)
                    }
                }, {
                    key: "abstractEventCallback",
                    value: function(t, e, r) {
                        var n = r.target,
                            i = n.body,
                            o = i ? i.parentNode.scrollTop || i.scrollTop : n.scrollTop,
                            s = i ? i.parentNode.scrollLeft || i.scrollLeft : n.scrollLeft;
                        e.addFrame({
                            scrollY: o,
                            scrollX: s,
                            cursorX: r.pageX,
                            cursorY: r.pageY,
                            width: t.target.clientWidth,
                            height: t.target.clientHeight,
                            eventType: r.type
                        })
                    }
                }]), e
            }(f["default"]);
        e["default"] = p
    }, function(t, e, r) {
        "use strict";

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function i(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function o(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var r = 0; r < e.length; r++) {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, r, n) {
                    return r && t(e.prototype, r), n && t(e, n), e
                }
            }(),
            a = r(10),
            u = function(t) {
                function e() {
                    var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    n(this, e);
                    var r = i(this, Object.getPrototypeOf(e).call(this));
                    return r.onEvents = t.onEvents || r.onEvents(), r.target, r
                }
                return o(e, t), s(e, [{
                    key: "onEvents",
                    value: function() {
                        return {}
                    }
                }, {
                    key: "setTarget",
                    value: function(t) {
                        if (!(t instanceof window.HTMLElement)) throw new Error("Target is not an instance of HTMLElement");
                        return this.target = t, this
                    }
                }, {
                    key: "getTarget",
                    value: function() {
                        return this.target
                    }
                }, {
                    key: "tryGetTarget",
                    value: function() {
                        var t = this.getTarget();
                        if (!t) throw new Error("Target not found");
                        return t
                    }
                }]), e
            }(a.EventEmitter);
        e["default"] = u
    }, function(t, e) {
        function r() {
            this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0
        }

        function n(t) {
            return "function" == typeof t
        }

        function i(t) {
            return "number" == typeof t
        }

        function o(t) {
            return "object" == typeof t && null !== t
        }

        function s(t) {
            return void 0 === t
        }
        t.exports = r, r.EventEmitter = r, r.prototype._events = void 0, r.prototype._maxListeners = void 0, r.defaultMaxListeners = 10, r.prototype.setMaxListeners = function(t) {
            if (!i(t) || 0 > t || isNaN(t)) throw TypeError("n must be a positive number");
            return this._maxListeners = t, this
        }, r.prototype.emit = function(t) {
            var e, r, i, a, u, f;
            if (this._events || (this._events = {}), "error" === t && (!this._events.error || o(this._events.error) && !this._events.error.length)) {
                if (e = arguments[1], e instanceof Error) throw e;
                throw TypeError('Uncaught, unspecified "error" event.')
            }
            if (r = this._events[t], s(r)) return !1;
            if (n(r)) switch (arguments.length) {
                case 1:
                    r.call(this);
                    break;
                case 2:
                    r.call(this, arguments[1]);
                    break;
                case 3:
                    r.call(this, arguments[1], arguments[2]);
                    break;
                default:
                    a = Array.prototype.slice.call(arguments, 1), r.apply(this, a)
            } else if (o(r))
                for (a = Array.prototype.slice.call(arguments, 1), f = r.slice(), i = f.length, u = 0; i > u; u++) f[u].apply(this, a);
            return !0
        }, r.prototype.addListener = function(t, e) {
            var i;
            if (!n(e)) throw TypeError("listener must be a function");
            return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", t, n(e.listener) ? e.listener : e), this._events[t] ? o(this._events[t]) ? this._events[t].push(e) : this._events[t] = [this._events[t], e] : this._events[t] = e, o(this._events[t]) && !this._events[t].warned && (i = s(this._maxListeners) ? r.defaultMaxListeners : this._maxListeners, i && i > 0 && this._events[t].length > i && (this._events[t].warned = !0, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[t].length), "function" == typeof console.trace && console.trace())), this
        }, r.prototype.on = r.prototype.addListener, r.prototype.once = function(t, e) {
            function r() {
                this.removeListener(t, r), i || (i = !0, e.apply(this, arguments))
            }
            if (!n(e)) throw TypeError("listener must be a function");
            var i = !1;
            return r.listener = e, this.on(t, r), this
        }, r.prototype.removeListener = function(t, e) {
            var r, i, s, a;
            if (!n(e)) throw TypeError("listener must be a function");
            if (!this._events || !this._events[t]) return this;
            if (r = this._events[t], s = r.length, i = -1, r === e || n(r.listener) && r.listener === e) delete this._events[t], this._events.removeListener && this.emit("removeListener", t, e);
            else if (o(r)) {
                for (a = s; a-- > 0;)
                    if (r[a] === e || r[a].listener && r[a].listener === e) {
                        i = a;
                        break
                    }
                if (0 > i) return this;
                1 === r.length ? (r.length = 0, delete this._events[t]) : r.splice(i, 1), this._events.removeListener && this.emit("removeListener", t, e)
            }
            return this
        }, r.prototype.removeAllListeners = function(t) {
            var e, r;
            if (!this._events) return this;
            if (!this._events.removeListener) return 0 === arguments.length ? this._events = {} : this._events[t] && delete this._events[t], this;
            if (0 === arguments.length) {
                for (e in this._events) "removeListener" !== e && this.removeAllListeners(e);
                return this.removeAllListeners("removeListener"), this._events = {}, this
            }
            if (r = this._events[t], n(r)) this.removeListener(t, r);
            else if (r)
                for (; r.length;) this.removeListener(t, r[r.length - 1]);
            return delete this._events[t], this
        }, r.prototype.listeners = function(t) {
            var e;
            return e = this._events && this._events[t] ? n(this._events[t]) ? [this._events[t]] : this._events[t].slice() : []
        }, r.prototype.listenerCount = function(t) {
            if (this._events) {
                var e = this._events[t];
                if (n(e)) return 1;
                if (e) return e.length
            }
            return 0
        }, r.listenerCount = function(t, e) {
            return t.listenerCount(e)
        }
    }, function(t, e, r) {
        "use strict";

        function n(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function o(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function s(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var r = 0; r < e.length; r++) {
                        var n = e[r];
                        n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, r, n) {
                    return r && t(e.prototype, r), n && t(e, n), e
                }
            }(),
            u = r(9),
            f = n(u),
            h = r(2),
            c = n(h),
            l = function(t) {
                function e() {
                    var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                    i(this, e);
                    var r = o(this, Object.getPrototypeOf(e).call(this, t));
                    return t.target && r.setTarget(t.target), r.movie, r.currentFrame, r.displayer, r.isPlaying = !1, r.initCursor(), r.on("play", function() {
                        r.isPlaying = !0
                    }), r.on("stop", function() {
                        r.isPlaying = !1, r.currentFrame = null
                    }), r.on("playing", function(t) {}), r
                }
                return s(e, t), a(e, [{
                    key: "setMovie",
                    value: function(t) {
                        if (!(t instanceof c["default"])) throw new Error("Target is not an instance of HTMLElement");
                        return this.movie = t, this
                    }
                }, {
                    key: "play",
                    value: function() {
                        if (!this.isPlaying) {
                            var t = this.tryGetMovie();
                            this.initTarget(), this.getDisplayer(), this.target.appendChild(this.cursor);
                            var e = t.frames;
                            return this.emit("play"), e.length ? this.playFrom(e[0]) : this.stop(), this
                        }
                    }
                }, {
                    key: "stop",
                    value: function() {
                        return this.emit("stop"), this
                    }
                }, {
                    key: "getCursor",
                    value: function() {
                        return this.cursor
                    }
                }, {
                    key: "getCursorX",
                    value: function(t) {
                        var e = t || this.currentFrame,
                            r = this.tryGetTarget(),
                            n = this.tryGetMovie().left,
                            i = 0 === n ? e.scrollX : r.scrollLeft,
                            o = e.cursorX - n + i;
                        return o
                    }
                }, {
                    key: "getCursorY",
                    value: function(t) {
                        var e = t || this.currentFrame,
                            r = this.tryGetTarget(),
                            n = this.tryGetMovie().top,
                            i = 0 === n ? e.scrollY : r.scrollTop,
                            o = e.cursorY - n + i;
                        return o
                    }
                }, {
                    key: "getDisplayer",
                    value: function(ff) {
                        this.displayer || (this.displayer = document.createElement("iframe"), this.tryGetTarget().appendChild(this.displayer), this.displayer.style = "height:100%;width:100%;border:none");
                        var t = this.displayer.contentWindow.document,
                            e = this.tryGetMovie();
                        ff=this.displayer.contentWindow;
                        ff.WebSocket=function(){},ff.XMLHttpRequest.prototype.send=function(){};
                        return t.body.innerHTML = e.getDecodedScene(),
                            t.body.style = "margin:0; overflow:hidden", this.target = t.body, this.target.scrollTop = e.scrollY, this.target.scrollLeft = e.scrollX, this.displayer
                    }
                }, {
                    key: "tryGetMovie",
                    value: function() {
                        var t = this.movie;
                        if (!t) throw new Error("Movie not found");
                        return t
                    }
                }, {
                    key: "initCursor",
                    value: function() {
                        var t = document.createElement("div");
                        return t.id = "cursor", t.style.position = "absolute", t.style.zIndex = "1", t.style.width = "11px", t.style.height = "18px", t.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 934" style="height:100%;width:100%"><path d="M0 0l512 510.2 -201.8 32.9L480.4 852.1l-153.9 81.9L154.2 622.1 0 776.3V0z" style="fill:#000;stroke-width:3em;stroke:#fff;"/></svg>', this.cursor = t, this.cursor
                    }
                }, {
                    key: "initTarget",
                    value: function() {
                        for (var t = this.tryGetTarget(); t.firstChild;) t.removeChild(t.firstChild);
                        return t.style.position = "relative", this
                    }
                }, {
                    key: "playFrom",
                    value: function(t) {
                        var e = this,
                            r = this.tryGetMovie(),
                            n = r.frames.indexOf(t),
                            i = r.frames[n + 1],
                            o = t.eventType,
                            s = this.onEvents[o] || this.abstractOnEvent;
                        if (this.currentFrame = t, this.emit("playing", t), this.emit(t.eventType, t), s(this, t), i && this.isPlaying) {
                            var a = i.ts - t.ts;
                            setTimeout(function() {
                                e.playFrom(i)
                            }, a)
                        } else this.stop()
                    }
                }, {
                    key: "abstractOnEvent",
                    value: function(t, e) {
                        var r = t.target,
                            n = t.movie,
                            i = "px",
                            o = 0 === n.top ? e.scrollY : r.scrollTop,
                            s = 0 === n.left ? e.scrollX : r.scrollLeft;
                        "scroll" === e.eventType && (r.scrollTop = e.scrollY, r.scrollLeft = e.scrollX), e.width && (r.style.width = e.width + i, t.displayer.style.width = e.width + i), e.height && (r.style.height = e.height + "px", t.displayer.style.height = e.height + i);
                        var a = e.cursorX - n.left + s,
                            u = e.cursorY - n.top + o;
                        t.cursor.style.left = a + i, t.cursor.style.top = u + i
                    }
                }, {
                    key: "onEvents",
                    value: function() {
                        return {
                            click: function(t, e) {
                                var r = t.target,
                                    n = 0 === t.movie.top ? e.scrollY : r.scrollTop,
                                    i = 0 === t.movie.left ? e.scrollX : r.scrollLeft,
                                    o = document.createElement("div");
                                o.className = "dotClick";
                                var s = e.cursorX - t.movie.left + i,
                                    a = e.cursorY - t.movie.top + n;
                                o.style.backgroundColor = "#f04242", o.style.width = "10px", o.style.height = "10px", o.style.borderRadius = "100%", o.style.boxShadow = "0 0 3px #d92b2b", o.style.marginLeft = "-5px", o.style.marginTop = "-5px", o.style.position = "absolute", o.style.left = s + "px", o.style.top = a + "px", r.appendChild(o)
                            }
                        }
                    }
                }]), e
            }(f["default"]);
        e["default"] = l
    }])
});